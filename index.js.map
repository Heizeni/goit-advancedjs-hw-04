{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/loader.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '23587423-82924c7bf0de5f5bd871046c4';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error('âŒ Axios error:', error);\n    throw error;\n  }\n}\n","export function clearGallery(container) {\n    container.innerHTML = '';\n  }\n  \n  export function renderImages(images, container) {\n    const markup = images\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n      <li class=\"photo-card\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p><b>Likes:</b> ${likes}</p>\n          <p><b>Views:</b> ${views}</p>\n          <p><b>Comments:</b> ${comments}</p>\n          <p><b>Downloads:</b> ${downloads}</p>\n        </div>\n      </li>`\n      )\n      .join('');\n  \n    container.insertAdjacentHTML('beforeend', markup);\n  }\n  ","const loaderWrapper = document.querySelector('.loader-wrapper');\n\nexport function showLoader() {\n  loaderWrapper.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loaderWrapper.classList.add('hidden');\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { clearGallery, renderImages } from './js/render-functions.js';\nimport { showLoader, hideLoader } from './js/loader.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = event.currentTarget.elements.searchQuery.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      message: 'Please enter a search term',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery(gallery);\n  showLoader();\n\n  try {\n    const data = await fetchImages(query);\n\n    if (data.hits.length === 0) {\n      iziToast.info({\n        message: 'Sorry, there are no images matching your search request.',\n        position: 'topRight',\n      });\n      hideLoader();\n      return;\n    }\n\n    renderImages(data.hits, gallery);\n\n    const images = gallery.querySelectorAll('img');\n    const promises = Array.from(images).map(img => {\n      return new Promise(resolve => {\n        if (img.complete) {\n          resolve();\n        } else {\n          img.onload = () => resolve();\n          img.onerror = () => resolve();\n        }\n      });\n    });\n    await Promise.all(promises);\n\n    hideLoader();\n    lightbox.refresh();\n  } catch (error) {\n    iziToast.error({\n      message: 'Something went wrong. Please try again later.',\n      position: 'topRight',\n    });\n    hideLoader();\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","axios","error","clearGallery","container","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loaderWrapper","showLoader","hideLoader","form","gallery","lightbox","SimpleLightbox","event","iziToast","data","promises","img","resolve"],"mappings":"+vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,iBAAkBA,CAAK,EAC/BA,CACV,CACA,CCdO,SAASC,EAAaC,EAAW,CACpCA,EAAU,UAAY,EAC1B,CAES,SAASC,EAAaC,EAAQF,EAAW,CAC9C,MAAMG,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,mBAEKL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,6BAGnBC,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA,YAG1C,EACO,KAAK,EAAE,EAEVV,EAAU,mBAAmB,YAAaG,CAAM,CACpD,CC/BA,MAAMQ,EAAgB,SAAS,cAAc,iBAAiB,EAEvD,SAASC,GAAa,CAC3BD,EAAc,UAAU,OAAO,QAAQ,CACzC,CAEO,SAASE,GAAa,CAC3BF,EAAc,UAAU,IAAI,QAAQ,CACtC,CCAA,MAAMG,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,iBAAiB,SAAU,MAAMI,GAAS,CAC7CA,EAAM,eAAgB,EACtB,MAAMvB,EAAQuB,EAAM,cAAc,SAAS,YAAY,MAAM,KAAM,EAEnE,GAAI,CAACvB,EAAO,CACVwB,EAAS,QAAQ,CACf,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACJ,CAEEpB,EAAagB,CAAO,EACpBH,EAAY,EAEZ,GAAI,CACF,MAAMQ,EAAO,MAAM1B,EAAYC,CAAK,EAEpC,GAAIyB,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,KAAK,CACZ,QAAS,2DACT,SAAU,UAClB,CAAO,EACDN,EAAY,EACZ,MACN,CAEIZ,EAAamB,EAAK,KAAML,CAAO,EAE/B,MAAMb,EAASa,EAAQ,iBAAiB,KAAK,EACvCM,EAAW,MAAM,KAAKnB,CAAM,EAAE,IAAIoB,GAC/B,IAAI,QAAQC,GAAW,CACxBD,EAAI,SACNC,EAAS,GAETD,EAAI,OAAS,IAAMC,EAAS,EAC5BD,EAAI,QAAU,IAAMC,EAAS,EAEvC,CAAO,CACF,EACD,MAAM,QAAQ,IAAIF,CAAQ,EAE1BR,EAAY,EACZG,EAAS,QAAS,CACnB,MAAe,CACdG,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAChB,CAAK,EACDN,EAAY,CAChB,CACA,CAAC"}